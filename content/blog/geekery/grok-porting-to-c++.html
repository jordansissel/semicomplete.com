+++
# Imported from original pyblosxom .txt format at 2015-08-14
date = "2008-01-11T06:38:22-08:00"
title = "Grok porting to C++\n"
# Marked a draft because frankly my old writing may not be worth surfacing again.
# I made bad word choices and had some strong-and-closed opinions years ago.
# We learn over time, eh? :)
draft = true
type = "blog"
categories = [ "blog" ]
tags = ["grok", "c++", "boost", "xpressive"]
+++

I've got pattern generation working.

<pre>
% ./test '%NUMBER%' "hello 45.04" "-1.34"
Testing: %NUMBER%
Appending pattern 'NUMBER'
Test str: '(?:[+-]?(?:(?:[0-9]+(?:\.[0-9]*)?)|(?:\.[0-9]+)))'
regexid: 0x692840
Match: 1 / '45.04'
Match: 1 / '-1.34'
</pre>

I'm pretty sure this is the 4th time I've at least started implementing grok in
any given language. The total so far has been: perl, python, ruby, C++. I
stopped working on the one in ruby because ruby's regexp engine is lacking in
some useful features (*). The python port of grok was written before I added
advanced predicates, which is why the ruby port was halted quickly.

<p>

(*) I opened a ruby feature request explaining a few problems I'd found with
ruby's regexp feature. I even offered to help fix some of them. Circular discussions
happened and I basically gave up on the idea of moving to ruby after ruby's own
creator <a href="http://rcrchive.net/rcrs/16"> expressed a defeatist attitude </a> about adding such a feature. My <a
href="/blog/geekery/ruby-oniguruma-codeblock-patches.html">patches</a> are
still available. I don't particularly care that my request hasn't gone
anywhere, so don't ask me about it, as I've happily moved on :) <p>

Assuming I do this right, this should give grok a serious boost in speed.
